drawing_touch_spec:
  spec_type: "size-agnostic_marker_doodle"
  invariance: ["size-agnostic","resolution-agnostic"]
  units:
    w: "基準線幅（任意単位。全指定はw基準）"
    s: "筆記長（線の進行距離）"

  stroke:
    jitter_mode: "geometric_centerline"     # ブレは中心線の幾何ノイズに限定（質感由来の揺れは不可）
    width: "1.0 * w"
    width_variation: "<= 0.02 * w"          # 可変幅は禁止（誤差のみ）
    jitter:
      model: "dual-band"                    # 手の震え(高周波)＋ゆるい蛇行(低周波)
      micro:
        amplitude_rms: "0.06–0.12 * w"      # 小振幅
        frequency_per_w: "6–12"             # 1wあたりの蛇行回数（高周波）
        randomness: "high"
      macro:
        amplitude_rms: "0.20–0.35 * w"
        frequency_per_10w: "0.6–1.2"
        randomness: "medium"
      spectral_mix: "micro:0.65, macro:0.35"
    caps: "round"
    joins: "round"
    pressure_emulation: "off"
    brush_tip: "hard_round"
    ink: "flat"
    opacity: 1.0
    flow: 1.0
    texture: "none"                         # 粒状感・紙目は禁止
    dithering: "off"
    paper_texture: "forbidden"

  rendering:
    render_pipeline: "path_noise -> uniform_stroke -> antialiasing"
    antialiasing: "on"

  path_drawing:
    symmetry_break: "3–7% の形状ズレを意図的に付与"
    tilt: "±4°"
    closure_gap: "<= 0.5 * w"               # 閉じ忘れの小隙間を許容
    overshoot: "0–0.7 * w"                  # 始端/終端の行き過ぎ
    corner_rounding_radius: "0.5–1.5 * w"
    straight_segment_max: "20 * w（完全直線不可。微小曲率/ノイズを付与）"

  negative_style_tags:
    - "crayon"
    - "pastel"
    - "chalk"
    - "grainy"
    - "paper texture"
    - "charcoal"
    - "dry brush"

  acceptance_criteria:
    - "線幅の標準偏差 ≤ 0.02 * w（可変幅化していない）"
    - "micro揺らぎRMSが 0.06–0.12 * w かつ frequency_per_w が 6–12"
    - "macro揺らぎRMSが 0.20–0.35 * w かつ frequency_per_10w が 0.6–1.2"
    - "線の法線方向 ±1 * w 帯の画素濃度標準偏差 ≤ 0.05（5%）"   # 粒状/塗りムラの抑制
    - "α欠損（alpha < 0.98）が連続 0.5 * w 以上存在しない"
    - "caps/joins は round、筆圧由来の線幅変化が視認不可"

  anti_goals:
    - "calligraphy-like variable width"
    - "CAD的な完全円・完全直線・完璧な格子整列"
    - "強いドロップシャドウ/グロー/金属・ガラス質感"

  out_of_scope:
    - "キャンバスサイズ・解像度・アスペクト比"
    - "レイアウト/タイル寸法/配色（別仕様で定義）"
