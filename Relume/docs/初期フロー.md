# Relumeプロジェクト初期セットアップフロー

## 概要
RelumeからダウンロードしたワイヤーフレームHTMLを、デザインブラッシュアップ可能な状態に自動セットアップするフロー。

---

## 全体フロー

### 1. ユーザー手動作業
1. Relumeからプロジェクトzipファイルをダウンロード
2. 任意のディレクトリに解凍（例: `Relume/2025-10-07_satokupo-design/`）

### 2. Pythonスクリプト実行
```bash
.venv/Scripts/python.exe docs/helper/setup_relume_project.py <ページディレクトリパス>
```

例:
```bash
.venv/Scripts/python.exe docs/helper/setup_relume_project.py "s:/MyProjects/KAMUI_CODE/Relume/2025-10-07_satokupo-design/01_ホーム"
```

### 3. スクリプトの自動処理内容

#### 3-1. 各ページのセットアップ
各ページディレクトリに対して以下を実行:

##### a) HTML基本タグの付与
元のコンテンツを以下のテンプレートでラップ:

```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[ディレクトリ名から自動生成]</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="assets/style/global.css">
</head>
<body>
[既存のコンテンツ]
<script src="assets/js/main.js"></script>
</body>
</html>
```

##### b) セクションへのユニークID付与
- 既存コンテンツ内の主要セクション（`<section>`, `<div>`, `<header>`, `<footer>`等）を検出
- ユーザーに各セクションの内容を質問（対話形式）
- ユーザーの回答に基づき、意味のあるIDを付与
  - 例: `section-hero`, `section-features`, `section-contact`

##### c) テンプレート構造のコピー
`docs/helper/setup_templates/`から以下の構造を丸ごとコピー:
```
<ページディレクトリ>/
├── assets/
│   ├── js/
│   │   ├── main.js          # features/自動読込コード付き
│   │   └── features/
│   ├── style/
│   │   └── global.css       # CSSネストルール案内コメント付き
│   └── images/
├── screenshots/
├── temp/
└── docs/
    └── ai-workbench/
```

※ 既存のファイル・ディレクトリは上書きせず保持

##### d) 修正されたHTMLの保存
- 上記すべての修正を適用したindex.htmlを上書き保存

#### 3-2. 実行結果レポート出力
コンソールに以下を表示:
- コピーされたディレクトリ・ファイル一覧
- 各ページで付与されたセクションID一覧

---

## セットアップ後の作業フロー

### 4. デザインブラッシュアップ開始
各ページの`assets/style/global.css`にスタイルを追加していく。

#### CSS編集ルール
- すべてのスタイルは`global.css`に記述
- **必ずネストルールを使用**（入れ子構造）
- 各セクションは最上位のID配下にすべて閉じ込める

例:
```css
/* assets/style/global.css */
#section-hero {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

  .hero-title {
    font-size: 3rem;
    font-weight: bold;
  }

  .hero-button {
    background: white;
    color: #667eea;
    padding: 1rem 2rem;
  }
}

#section-features {
  padding: 4rem 0;

  .feature-card {
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    padding: 2rem;
  }
}
```

#### JS編集ルール
- `assets/js/main.js`がエントリーポイント（自動読込方式）
- 機能は`assets/js/features/`に配置するだけで自動認識
- 各機能は`export function init()`を実装
  - 例: `features/carousel.js`, `features/modal.js`
- `main.js`が`import.meta.glob()`で自動読込・実行



**main.jsの実装**:
```javascript
const modules = import.meta.glob('./features/*.js', { eager: true });

document.addEventListener('DOMContentLoaded', () => {
  Object.values(modules).forEach(module => {
    if (module.init && typeof module.init === 'function') {
      module.init();
    }
  });
});
```

**features/の機能モジュール例**:
```javascript
// assets/js/features/carousel.js
export function init() {
  console.log('Carousel initialized');
  // カルーセル機能の実装
}
```

---

## 注意事項

### 冪等性の確保
- スクリプトは複数回実行しても安全
- 既にHTML基本タグが存在する場合はスキップ
- 既存ディレクトリ・ファイルは上書きしない

### 文字コード
- すべてのファイルはUTF-8で処理
- Pythonスクリプトも明示的にUTF-8を指定
- 日本語メッセージも文字化けしないよう処理

### Git管理
- プロジェクトはGit管理されているため、破壊的変更も問題なし

---

## 今後の拡張可能性

- 複数ページ一括処理オプション
- セクションID命名規則のカスタマイズ
- テンプレートのカスタマイズ（meta tag追加等）
- 画像生成AI連携による自動アセット生成
